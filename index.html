<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>Retro</title>
    <link rel="stylesheet" href="assets/stylesheet/fonts.css">
    <link rel="stylesheet" href="assets/stylesheet/base.css">
    <link rel="stylesheet" href="assets/stylesheet/codemirror.css">
    <link rel="stylesheet" href="assets/stylesheet/dialog.css">
    <link rel="stylesheet" href="assets/stylesheet/theme.monokai.css">

    <script src="src/codemirror.js"></script>
    <script src="src/dialog.js"></script>
    <script src="src/searchcursor.js"></script>
    <script src="src/activeline.js"></script>
    <script src="src/keymap.js"></script>

    <!-- syntax -->
    <script src="src/syntax/syntax.clike.js"></script>
    <script src="src/syntax/syntax.clojure.js"></script>
    <script src="src/syntax/syntax.coffeescript.js"></script>
    <script src="src/syntax/syntax.css.js"></script>
    <script src="src/syntax/syntax.erlang.js"></script>
    <script src="src/syntax/syntax.go.js"></script>
    <script src="src/syntax/syntax.haskell.js"></script>
    <script src="src/syntax/syntax.javascript.js"></script>
    <script src="src/syntax/syntax.markdown.js"></script>
    <script src="src/syntax/syntax.python.js"></script>
    <script src="src/syntax/syntax.yaml.js"></script>
  </head>
  <body>
  <style type="text/css">.CodeMirror{height: auto; z-index: 1;}</style>
    <div class="retro">
      <section role="topbar" class="topbar"></section>
      <section role="tabs" class="tabs">
        <div class="tabs-item">main.js</div>
        <div class="tabs-item">base.css</div>
        <div class="tabs-item active">keymap-core-game.js</div>
        <div class="tabs-item">t.js</div>
        <div class="tabs-item">jason-mars-code-academy.js</div>
      </section>
      <section role="main" class="main">
        <textarea id="editor" name="editor">
'use strict';

/* jshint esnext:true */

import component from './component';
import * as HttpUtils from './http-utils';
import * as Log from './log';


var SWIFT_PUBLIC_URL = (process.env.SWIFT_HTTPS_PUBLIC_URL || process.env.SWIFT_PUBLIC_URL || '');
var SWIFT_CONTAINER = process.env.SWIFT_CONTAINER;
const PUBLIC_URL = SWIFT_PUBLIC_URL + (SWIFT_CONTAINER ? `/${SWIFT_CONTAINER}` : '');

let RenderView = {
    render: (request, response, done) => {
        response.type('application/json');

        let data = request.body.data;

        let isDataValidArray = (Array.isArray(data) && data.length > 0);
        if (isDataValidArray === false) {
            return HttpUtils.emptyDataResponse(response, done);
        }

        let promises = RenderView._resolveComponents(data);
        Promise.all(promises)
            .then(RenderView._assembleResponse)
            .then(HttpUtils.jsonResponse(response, done))
            .catch(HttpUtils.error(response, done));
    }
};

export default RenderView.render;

        </textarea>
      </section>
      <footer>
        <div id="editor-file" class="normal">keymap-core-game</div>
        <div id="editor-syntax" class="normal">JS</div>
        <div id="editor-mode" class="normal">NORMAL</div>
      </footer>
    </div>
    <script src="assets/javascript/keymaster.js"></script>
    <script src="src/app.js"></script>
  </body>
</html>
